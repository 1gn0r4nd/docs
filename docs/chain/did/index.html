<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">DID | KILT Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://dev.kilt.io/docs/chain/did"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="DID | KILT Documentation"><meta data-react-helmet="true" name="description" content="What is a DID?"><meta data-react-helmet="true" property="og:description" content="What is a DID?"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://dev.kilt.io/docs/chain/did"><link data-react-helmet="true" rel="alternate" href="https://dev.kilt.io/docs/chain/did" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dev.kilt.io/docs/chain/did" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.847ab0b4.css">
<link rel="preload" href="/assets/js/runtime~main.3d0652b5.js" as="script">
<link rel="preload" href="/assets/js/main.3b4f7368.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_light.svg" alt="KILT Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo_dark.svg" alt="KILT Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link" href="/docs/sdk/introduction">SDK</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/chain/introduction">Chain</a><a class="navbar__item navbar__link" href="/docs/apps/introduction">Apps</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/KILTprotocol/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/chain/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/chain/Governance/vote">Governance</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/chain/collator">Become a collator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/chain/delegator">Become a delegator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/chain/did">DID</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/chain/fullnode">How to set up a full node</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>DID</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-is-a-did">What is a DID?<a class="hash-link" href="#what-is-a-did" title="Direct link to heading">â€‹</a></h2><p>In KILT a DID is a decentralized identifier that the user owns and controls.
It consists of a unique set of keys that can be used for different operations on the blockchain.
For an in-depth explanation see the <a href="https://github.com/KILTprotocol/kilt-did-driver/blob/master/docs/did-spec/spec.md" target="_blank" rel="noopener noreferrer">KILT DID spec</a>.</p><p>A DID may be a &quot;light&quot; DID, which is not stored on-chain, or a &quot;full&quot; on-chain DID.
A light DID is issued by default, with the keys stored locally on your device.
By upgrading this to a full DID registered on the blockchain, all the keys associated with it can be retrieved from the KILT blockchain storage.</p><p>A full DID can then be used to perform certain on-chain actions which include:</p><ul><li>Writing CTypes to the chain</li><li>Writing attestations to the chain</li><li>Setting delegations</li><li>Doing key rotations on the DID keys</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="registering-a-did">Registering a DID<a class="hash-link" href="#registering-a-did" title="Direct link to heading">â€‹</a></h2><p>A full DID is needed if the user wants to become an attester or wants to setup delegations.
A full DID also allows the user to embed a list of URLs, known as service endpoints, into the DID document so that they can be retrieved from the chain as part of the DID document.
To create a full DID the user first has to create a set of keys and service endpoints:</p><ul><li>one authentication key for signing extrinsics from your DID</li><li>zero or more key agreement keys for encrypting messages that are sent to you</li><li>one attestation key for signing attestations (optional)</li><li>one delegation key for authorizing delegations (optional)</li><li>service endpoints that point to external hostings for others to find (optional)</li></ul><p>With those keys prepared and the service endpoints set up, they are ready to write the DID to the KILT blockchain.
The user then has to create the <code>did::create</code> extrinsic and sign it with any KILT account that has enough funding to pay both the transaction fees and the DID deposit.
The extrinsic consists of</p><ul><li>The <code>DidCreationDetails</code> object containing keys, service endpoints and the account id of the submitter for the creation</li><li>The <code>DidSignature</code> which is a signature using your authentication key over the scale encoded <code>DidCreationDetails</code> from above</li><li>A regular signature authenticating the sender of the extrinsic</li></ul><p>The DID owner and the submitter can be two different parties.
This allows the creation of a DID without having to pay any fees or deposits.
Beware that this also means that the DID creator gives up some power over the DID: The submitter who pays the deposit will be able to delete the DID from the blockchain and claim back its deposit.
Once the <code>did::create</code> extrinsic is submitted and executed, the DID is written to the chain.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="using-a-did">Using a DID<a class="hash-link" href="#using-a-did" title="Direct link to heading">â€‹</a></h2><p>Once the DID is successfully registered on chain, it can be used to perform certain on-chain actions that are not possible to do with a regular account.
This includes handling of attestations and ctypes, setting up trust hierarchies through delegations, managing web3 names and much more.</p><p>Those actions need to be signed by the DID before they can be submitted to chain by any account that the DID owner specifies when signing.
We are naming those actions &quot;DID-Calls&quot;. To submit those there is a special extrinsic called <code>submit_did_call</code>. </p><p>The process of doing any DID-Call is always the same:</p><ul><li>Construct the actual call you want to execute including all arguments of that extrinsic.</li><li>Wrap the call in a <code>DidAuthorizedCallOperation</code> together with<ul><li>Senders DID to indicate who wants this operation to happen</li><li>Senders DID tx_counter + 1 to prevent replay attacks</li><li>Current block number to prevent the operation to be submitted too far in the future</li><li>Account of the submitter to allow the DID owner to specify who is allowed to submit</li></ul></li><li>Create a signature over the <code>DidAuthorizedCallOperation</code> by scale-encoding it and signing it using the appropriate key<ul><li>Most operations require the authentication key of the DID to be used</li><li>Managing attestations requires the attestation key</li><li>Managing delegations requires the delegation key</li></ul></li><li>Construct the <code>submit_did_call</code> extrinsic consisting of<ul><li>The <code>DidAuthorizedCallOperation</code></li><li>The DID signature</li></ul></li><li>Pass the call over to the submitter who can now sign and submit it to the chain<ul><li>The submitter will have to pay for all fees and deposits that result from the operation</li><li>In general the submitter will have the power to delete all on-chain objects to reclaim its deposit</li></ul></li><li>The chain now checks that<ul><li>The submitters signature is correct</li><li>The submitter is the one specified in the <code>DidAuthorizedCallOperation</code></li><li>The DID signature is correct</li><li>The tx_counter is valid (current tx_counter + 1)</li><li>The blocknumber is not older than an hour (given 12s block time)</li></ul></li><li>After that the actual call gets dispatched with a special <code>DidOrigin</code><ul><li>This allows the executer of the actual call to get the DID and the account of the submitter</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="updating-a-did">Updating a DID<a class="hash-link" href="#updating-a-did" title="Direct link to heading">â€‹</a></h2><p>There is a set of extrinsics available to update a full DID.
These are:</p><ul><li><code>set_authentication_key</code></li><li><code>set_delegation_key</code></li><li><code>remove_delegation_key</code></li><li><code>set_attestation_key</code></li><li><code>remove_attestation_key</code></li><li><code>add_key_agreement_key</code></li><li><code>remove_key_agreement_key</code></li><li><code>add_service_endpoint</code></li><li><code>remove_service_endpoint</code></li><li><code>delete</code></li></ul><p>All of them have to be authenticated using the DID that is updated following the process described above. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-about-the-deposit">What about the deposit?<a class="hash-link" href="#what-about-the-deposit" title="Direct link to heading">â€‹</a></h2><p>When writing a DID to the chain the submitter of the extrinsic has to pay a deposit, currently 2 KILT.
This is to incentivize deleting unused DIDs to save storage on the chain.
The deposit is always bound to the account that submitted the extrinsic to create the DID, and not to the DID itself.
Consequently there are also two ways of reclaiming the deposit:</p><p>1) The DID owner decides to delete the DID using the <code>did::delete</code> extrinsic.
This call needs to be authorized by the DID and can therefore be submitted by any account.
Despite the fact that this account can differ from the deposit owner, the deposit will always be reimbursed to the account that paid for it.
2) The deposit owner can decide to claim their deposit back using the <code>did::reclaim_deposit</code> extrinsic.
This will also cause the DID to be fully deleted but it doesn&#x27;t require a signature from the DID.
Only the signature of the account that created the DID is needed for this.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/KILTprotocol/docs/edit/master/docs/chain/did.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/chain/delegator"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Become a delegator</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/chain/fullnode"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to set up a full node</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-a-did" class="table-of-contents__link toc-highlight">What is a DID?</a></li><li><a href="#registering-a-did" class="table-of-contents__link toc-highlight">Registering a DID</a></li><li><a href="#using-a-did" class="table-of-contents__link toc-highlight">Using a DID</a></li><li><a href="#updating-a-did" class="table-of-contents__link toc-highlight">Updating a DID</a></li><li><a href="#what-about-the-deposit" class="table-of-contents__link toc-highlight">What about the deposit?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://matrix.to/#/#kilt-general:matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Element / Matrix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/hX4pc8rdHS" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/KILTProtocolChat" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/Kiltprotocol" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://clankilt.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Clan KILT (Unofficial)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://www.kilt.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>KILT Protocol<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://kilt-protocol.medium.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/KILTprotocol" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://www.kilt.io/imprint/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Imprint<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.kilt.io/privacy-policy-for-kilt-protocol/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 BOTLabs GmbH â€“ All rights reserved. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3d0652b5.js"></script>
<script src="/assets/js/main.3b4f7368.js"></script>
</body>
</html>