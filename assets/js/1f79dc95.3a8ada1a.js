"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[642],{1262:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return l},default:function(){return u},frontMatter:function(){return c},metadata:function(){return m},toc:function(){return d}});var a=n(3117),i=n(102),r=(n(7294),n(3905)),o=n(1736),s=["components"],c={id:"claiming",title:"Claiming"},l=void 0,m={unversionedId:"sdk/core-feature/claiming",id:"sdk/core-feature/claiming",title:"Claiming",description:"There are three actors in the KILT workflow: Claimers, Attesters and Verifiers.",source:"@site/docs/sdk/0-core-feature/2_claiming.md",sourceDirName:"sdk/0-core-feature",slug:"/sdk/core-feature/claiming",permalink:"/docs/sdk/core-feature/claiming",editUrl:"https://github.com/KILTprotocol/docs/edit/master/docs/sdk/0-core-feature/2_claiming.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"claiming",title:"Claiming"},sidebar:"sdk",previous:{title:"CTypes",permalink:"/docs/sdk/core-feature/ctypes"},next:{title:"Requesting Terms and Attestations",permalink:"/docs/sdk/core-feature/requesting-terms-and-attestations"}},d=[{value:"CTypes",id:"ctypes",children:[],level:2},{value:"Create your Claim from a CType",id:"create-your-claim-from-a-ctype",children:[],level:2},{value:"Request an Attestation",id:"request-an-attestation",children:[],level:2}],p={toc:d};function u(e){var t=e.components,n=(0,i.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"There are three actors in the KILT workflow: Claimers, Attesters and Verifiers."),(0,r.kt)("p",null,"As KILT is an open system: any entity can make a claim about anything. Therefore, as in the real world, a claim only has value if the verifier trusts the attester."),(0,r.kt)("p",null,"In KILT, claims are based on claim types (CTypes). A claimer can either create a new CType or, when KILT is established and standard CTypes are available, may use an existing CType when creating their claim."),(0,r.kt)("h2",{id:"ctypes"},"CTypes"),(0,r.kt)("p",null,"CTypes are data types specific to KILT that define the structure of a claim (e.g., the data model for your claim). They are based on JSON Schema, a standard used to annotate and validate JSON documents. The schema defines which properties exist and what their type should be, e.g., a string, a number, an object, etc."),(0,r.kt)("p",null,"When you create a CType from a schema, the SDK determines whether your CType aligns with the underlying schema. You can think of it as checking whether a cook (user) followed a certain recipe (schema) when preparing a meal (creating a CType)."),(0,r.kt)("p",null,"The owner of the CType can store it on their desktop or on a regular web service. Only a hash of the CType is stored on the KILT blockchain, verifying its validity."),(0,r.kt)(o.Z,{className:"language-js",mdxType:"CodeBlock"},"import { CType } from '@kiltprotocol/core'\n\nexport async function main(): Promise<CType> {\n  const ctype = CType.fromSchema({\n    $schema: 'http://kilt-protocol.org/draft-01/ctype#',\n    title: 'Drivers License',\n    properties: {\n      name: {\n        type: 'string'\n      },\n      age: {\n        type: 'integer'\n      }\n    },\n    type: 'object'\n  })\n\n  return ctype\n}\n"),(0,r.kt)("h2",{id:"create-your-claim-from-a-ctype"},"Create your Claim from a CType"),(0,r.kt)("p",null,"Once you have a CType, you only need to fill it with content to create your claim, i.e. supply the values for all fields of the CType."),(0,r.kt)(o.Z,{className:"language-js",mdxType:"CodeBlock"},"import type { IClaim, IDidDetails } from '@kiltprotocol/sdk-js'\n\nimport { Claim, CType } from '@kiltprotocol/core'\n\nexport async function main(\n  ctype: CType,\n  claimerDid: IDidDetails['did']\n): Promise<IClaim> {\n  const rawClaim = {\n    name: 'Alice',\n    age: 29\n  }\n\n  return Claim.fromCTypeAndClaimContents(ctype, rawClaim, claimerDid)\n}\n"),(0,r.kt)("h2",{id:"request-an-attestation"},"Request an Attestation"),(0,r.kt)("p",null,"After creating your claim, you can request an attestation by creating another object called ",(0,r.kt)("inlineCode",{parentName:"p"},"RequestForAttestation"),", which you can send to the attester of your choice via any messaging system."),(0,r.kt)("p",null,"We recommend encrypting this object before sending it by calling encrypt. Additionally, you can also compress the body of the message."),(0,r.kt)(o.Z,{className:"language-js",mdxType:"CodeBlock"},"import type {\n  IClaim,\n  IRequestForAttestation,\n  KeystoreSigner\n} from '@kiltprotocol/types'\n\nimport { RequestForAttestation } from '@kiltprotocol/core'\nimport { DidDetails } from '@kiltprotocol/did'\n\nexport async function main(\n  claim: IClaim,\n  keystore: KeystoreSigner,\n  claimer: DidDetails\n): Promise<IRequestForAttestation> {\n  const requestForAttestation = RequestForAttestation.fromClaim(claim)\n  return requestForAttestation.signWithDidKey(\n    keystore,\n    claimer,\n    claimer.authenticationKey.id\n  )\n}\n"))}u.isMDXComponent=!0}}]);