"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5064],{67297:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return r},default:function(){return p},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return d}});var o=n(83117),i=(n(67294),n(3905)),a=n(90814);const s={id:"web3name-release",title:"Release a web3name"},r=void 0,l={unversionedId:"develop/sdk/cookbook/web3names/web3name-release",id:"develop/sdk/cookbook/web3names/web3name-release",title:"Release a web3name",description:"Whenever the web3name is not needed anymore, either the DID owner or the deposit payer can release it, with the previously reserved deposit going back to the original payer.",source:"@site/docs/develop/01_sdk/02_cookbook/02_web3names/03_release.md",sourceDirName:"develop/01_sdk/02_cookbook/02_web3names",slug:"/develop/sdk/cookbook/web3names/web3name-release",permalink:"/docs/develop/sdk/cookbook/web3names/web3name-release",draft:!1,editUrl:"https://github.com/KILTprotocol/docs/edit/master/docs/develop/01_sdk/02_cookbook/02_web3names/03_release.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"web3name-release",title:"Release a web3name"},sidebar:"sdk",previous:{title:"Query Public Credentials for a web3name",permalink:"/docs/develop/sdk/cookbook/web3names/credential-query"},next:{title:"Link an Account to a KILT DID",permalink:"/docs/develop/sdk/cookbook/account_linking/account-link"}},c={},d=[],m={toc:d};function p(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,o.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Whenever the web3name is not needed anymore, either the DID owner or the deposit payer can release it, with the previously reserved deposit going back to the original payer."),(0,i.kt)("p",null,"In the case of the DID owner willing to release the web3name, the following snippet provides a reference implementation on how to achieve that."),(0,i.kt)(a.Z,{className:"language-ts",mdxType:"CodeBlock"},"import type { KeyringPair } from '@polkadot/keyring/types'\n\nimport * as Kilt from '@kiltprotocol/sdk-js'\n\nexport async function releaseWeb3Name(\n  keystore: Kilt.Did.DemoKeystore,\n  did: Kilt.Did.FullDidDetails,\n  submitterAccount: KeyringPair,\n  resolveOn: Kilt.SubscriptionPromise.ResultEvaluator = Kilt.BlockchainUtils\n    .IS_FINALIZED\n): Promise<void> {\n  const web3NameReleaseTx = await Kilt.Did.Web3Names.getReleaseByOwnerTx().then(\n    (tx) => did.authorizeExtrinsic(tx, keystore, submitterAccount.address)\n  )\n  await Kilt.BlockchainUtils.signAndSubmitTx(\n    web3NameReleaseTx,\n    submitterAccount,\n    {\n      resolveOn\n    }\n  )\n}\n"),(0,i.kt)("p",null,"On the other hand, releasing the web3name by the deposit payer does not require the signature of the DID owner, meaning that a regular signed extrinsic can be submitted to the KILT blockchain, as shown below."),(0,i.kt)(a.Z,{className:"language-ts",mdxType:"CodeBlock"},"import type { KeyringPair } from '@polkadot/keyring/types'\n\nimport * as Kilt from '@kiltprotocol/sdk-js'\n\nexport async function reclaimWeb3NameDeposit(\n  depositPayerAccount: KeyringPair,\n  web3Name: Kilt.Did.Web3Names.Web3Name,\n  resolveOn: Kilt.SubscriptionPromise.ResultEvaluator = Kilt.BlockchainUtils\n    .IS_FINALIZED\n): Promise<void> {\n  // Release the web3name by the deposit payer.\n  const web3NameReleaseTx = await Kilt.Did.Web3Names.getReclaimDepositTx(\n    web3Name\n  )\n  await Kilt.BlockchainUtils.signAndSubmitTx(\n    web3NameReleaseTx,\n    depositPayerAccount,\n    {\n      resolveOn\n    }\n  )\n}\n"))}p.isMDXComponent=!0}}]);